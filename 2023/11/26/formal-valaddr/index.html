<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>formal_valaddr | 冰蒂斯のformula</title><meta name="author" content="冰蒂斯"><meta name="copyright" content="冰蒂斯"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. Desc &amp; PurpPurpose: This code validates a given AXI address channel request, whether for the read or write address channels.  It can also be  used outside of the address checker. This property">
<meta property="og:type" content="article">
<meta property="og:title" content="formal_valaddr">
<meta property="og:url" content="http://example.com/2023/11/26/formal-valaddr/index.html">
<meta property="og:site_name" content="冰蒂斯のformula">
<meta property="og:description" content="1. Desc &amp; PurpPurpose: This code validates a given AXI address channel request, whether for the read or write address channels.  It can also be  used outside of the address checker. This property">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/chainsaw_red.jpg">
<meta property="article:published_time" content="2023-11-26T04:50:09.000Z">
<meta property="article:modified_time" content="2023-11-28T09:10:06.971Z">
<meta property="article:author" content="冰蒂斯">
<meta property="article:tag" content="AXI">
<meta property="article:tag" content="formal">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/chainsaw_red.jpg"><link rel="shortcut icon" href="/img/bloodborn_lib.png"><link rel="canonical" href="http://example.com/2023/11/26/formal-valaddr/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'formal_valaddr',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-28 17:10:06'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/reze.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="冰蒂斯のformula"><span class="site-name">冰蒂斯のformula</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">formal_valaddr</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-11-26T04:50:09.000Z" title="发表于 2023-11-26 12:50:09">2023-11-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-11-28T09:10:06.971Z" title="更新于 2023-11-28 17:10:06">2023-11-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AXI/">AXI</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AXI/formal/">formal</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="formal_valaddr"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-Desc-Purp"><a href="#1-Desc-Purp" class="headerlink" title="1. Desc &amp; Purp"></a>1. Desc &amp; Purp</h1><p><strong>Purpose</strong>: This code validates a given AXI address channel request, whether for the read or write address channels.  It can also be  used outside of the address checker. This property checker doesn’t actually produce any formal properties itself, but rather it produces formal logic that can be used to create a formal property–whether assertion or assumption.</p>
<p>这个属性检查器实际上并不产生任何形式的属性，而是产生可以用来创建形式属性的形式逻辑，无论是断言还是假设。我们不生产<em>formal property</em> ，我们只是其 <em>logic</em> 的搬运工。</p>
<h1 id="2-Param-Signals"><a href="#2-Param-Signals" class="headerlink" title="2. Param &amp; Signals"></a>2. Param &amp; Signals</h1><p>各个参数和输入输出的含义：</p>
<ul>
<li><code>parameter C_AXI_DATA_WIDTH = 128</code>：定义了AXI读写数据的宽度，这里设置为<em>128</em>位。</li>
<li><code>parameter C_AXI_ADDR_WIDTH = 28</code>：定义了AXI地址的宽度，这里设置为<em>28</em>位。</li>
<li><code>parameter [7:0] OPT_MAXBURST = 8&#39;hff</code>：定义了最大突发长度，减<em>1</em>后的值，这里设置为<em>255</em>。</li>
<li><code>parameter [0:0] OPT_EXCLUSIVE = 1&#39;b1</code>：定义了是否允许独占访问，这里设置为允许。</li>
<li><code>parameter [0:0] OPT_NARROW_BURST = 1&#39;b1</code>：定义了是否默认允许窄突发，这里设置为允许。</li>
<li><code>localparam DW = C_AXI_DATA_WIDTH</code>：定义了一个局部参数<em>DW</em>，其值等于<em>C_AXI_DATA_WIDTH</em>。</li>
<li><code>localparam AW = C_AXI_ADDR_WIDTH</code>：定义了一个局部参数<em>AW</em>，其值等于<em>C_AXI_ADDR_WIDTH</em>。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">parameter</span> 		C_AXI_DATA_WIDTH	= <span class="number">128</span>,<span class="comment">// Width of the AXI R&amp;W data</span></span><br><span class="line"><span class="keyword">parameter</span> 		C_AXI_ADDR_WIDTH	= <span class="number">28</span>,	<span class="comment">// AXI Address width (log wordsize)</span></span><br><span class="line"><span class="keyword">parameter</span> [<span class="number">7</span>:<span class="number">0</span>] 	OPT_MAXBURST	= <span class="number">8&#x27;hff</span>,<span class="comment">// Maximum burst length, minus 1</span></span><br><span class="line"><span class="keyword">parameter</span> [<span class="number">0</span>:<span class="number">0</span>] 	OPT_EXCLUSIVE	= <span class="number">1&#x27;b1</span>,<span class="comment">// Exclusive access allowed</span></span><br><span class="line"><span class="keyword">parameter</span> [<span class="number">0</span>:<span class="number">0</span>] 	OPT_NARROW_BURST = <span class="number">1&#x27;b1</span>,<span class="comment">// Narrow bursts allowed by default</span></span><br><span class="line"><span class="keyword">localparam</span> 			DW			= C_AXI_DATA_WIDTH,</span><br><span class="line"><span class="keyword">localparam</span> 			AW			= C_AXI_ADDR_WIDTH</span><br></pre></td></tr></table></figure>

<p>模块的输入包括：</p>
<ul>
<li><code>i_addr</code>：地址输入，宽度为<code>AW-1:0</code>。</li>
<li><code>i_len</code>：突发长度输入，宽度为<code>7:0</code>。</li>
<li><code>i_size</code>：突发大小输入，宽度为<code>2:0</code>。</li>
<li><code>i_burst</code>：突发类型输入，宽度为<code>1:0</code>。</li>
<li><code>i_lock</code>：锁定信号输入。</li>
<li><code>i_initial</code>：初始信号输入。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">input</span>	<span class="keyword">wire</span>	[AW-<span class="number">1</span>:<span class="number">0</span>]	i_addr,	<span class="comment">// address</span></span><br><span class="line"><span class="keyword">input</span>	<span class="keyword">wire</span>	[<span class="number">7</span>:<span class="number">0</span>]		i_len,	<span class="comment">// Burst Length</span></span><br><span class="line"><span class="keyword">input</span>	<span class="keyword">wire</span>	[<span class="number">2</span>:<span class="number">0</span>]		i_size,	<span class="comment">// Burst size</span></span><br><span class="line"><span class="keyword">input</span>	<span class="keyword">wire</span>	[<span class="number">1</span>:<span class="number">0</span>]		i_burst,<span class="comment">// Burst type</span></span><br><span class="line"><span class="keyword">input</span>	<span class="keyword">wire</span>				i_lock,</span><br><span class="line"><span class="keyword">input</span>	<span class="keyword">wire</span>				i_initial,</span><br></pre></td></tr></table></figure>

<p>模块的输出包括：</p>
<ul>
<li><code>o_aligned</code>：对齐信号输出。</li>
<li><code>o_valid</code>：有效信号输出。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">output</span>	<span class="keyword">reg</span>			o_aligned,</span><br><span class="line"><span class="keyword">output</span>	<span class="keyword">reg</span>			o_valid</span><br><span class="line"><span class="comment">//这两个信号可能会十分有趣，我已经迫不及待的去看这些信号的作用了</span></span><br></pre></td></tr></table></figure>



<h1 id="3-Logic"><a href="#3-Logic" class="headerlink" title="3. Logic"></a>3. Logic</h1><p>这里的所有逻辑都是组合逻辑，没有时序逻辑。</p>
<h2 id="3-1-addr-lsbs"><a href="#3-1-addr-lsbs" class="headerlink" title="3.1 addr_lsbs"></a>3.1 addr_lsbs</h2><p>在之前对于<em>axi size</em>的说明中，<em>size</em>的位宽是 <code>[2:0]</code>，最高可以表示<em>128 byte</em> 的位宽的数据传输。同时<em>axi address is based on byte。</em></p>
<p><strong>Q</strong>： 多少位宽的数据可以表示<em>128</em> ？</p>
<p><strong>A</strong>：<code>8&#39;b0111_1111</code>可以表示十进制 <em>127</em>，所以在最大位宽的传输下<em>axi address</em>会对低[6:0]进行改变或者 <code>align</code>。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// addr_lsbs</span></span><br><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	addr_lsbs = <span class="number">0</span>;</span><br><span class="line">	addr_lsbs[((AW&lt;<span class="number">7</span>) ? AW : <span class="number">7</span>)-<span class="number">1</span>:<span class="number">0</span>]= i_addr[((AW&lt;<span class="number">7</span>) ? AW : <span class="number">7</span>)-<span class="number">1</span>:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>这段代码是用来获取输入地址<code>i_addr</code>的最低有效位。如果地址宽度<code>AW</code>小于7，那么就取<code>AW</code>位，否则取7位。这些位被存储在<code>addr_lsbs</code>中。至于作用是什么，就如前言所说的一样，这些<em>code</em> 并不是 <em>formal property</em> ，只是为其提供了信号。</p>
<h2 id="3-2-o-aligned"><a href="#3-2-o-aligned" class="headerlink" title="3.2 o_aligned"></a>3.2 o_aligned</h2><p>它根据突发大小<code>i_size</code>来检查<code>addr_lsbs</code>的相应位是否为0。如果是，那么<code>o_aligned</code>就被设置为1，表示地址是对齐的。否则，<code>o_aligned</code>被设置为0，表示地址不对齐。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	o_aligned = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">case</span>(i_size)</span><br><span class="line">	<span class="number">0</span>: o_aligned = <span class="number">1</span>;</span><br><span class="line">	<span class="number">1</span>: o_aligned = (addr_lsbs[    <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="number">2</span>: o_aligned = (addr_lsbs[<span class="number">1</span> : <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="number">3</span>: o_aligned = (addr_lsbs[<span class="number">2</span> : <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="number">4</span>: o_aligned = (addr_lsbs[<span class="number">3</span> : <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="number">5</span>: o_aligned = (addr_lsbs[<span class="number">4</span> : <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="number">6</span>: o_aligned = (addr_lsbs[<span class="number">5</span> : <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="number">7</span>: o_aligned = (addr_lsbs[<span class="number">6</span> : <span class="number">0</span>] == <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">endcase</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<ul>
<li>当<code>i_size</code>为0时，<code>o_aligned</code>被设置为1，表示地址总是对齐的。</li>
<li>当<code>i_size</code>为1时，如果<code>addr_lsbs</code>的最低位（第0位）为0，那么<code>o_aligned</code>被设置为1，否则为0。</li>
<li>当<code>i_size</code>为2时，如果<code>addr_lsbs</code>的最低两位（第1位到第0位）都为0，那么<code>o_aligned</code>被设置为1，否则为0。</li>
<li>直到<code>i_size</code>为7，此时如果<code>addr_lsbs</code>的最低七位（第6位到第0位）都为0，那么<code>o_aligned</code>被设置为1，否则为0。</li>
</ul>
<h2 id="3-3-overlength-burst"><a href="#3-3-overlength-burst" class="headerlink" title="3.3 overlength_burst"></a>3.3 overlength_burst</h2><blockquote>
<p> Verilator lint_off <code>CMPCONST</code></p>
</blockquote>
<p><code>CMPCONST</code>警告是当你在代码中比较一个变量和一个常量时产生的。例如，如果你写了<code>if (variable == 1&#39;b1)</code>，Verilator会产生一个<code>CMPCONST</code>警告，因为你正在将一个变量与一个常量进行比较。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// overlength_burst</span></span><br><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line">	<span class="comment">// Verilator lint_off CMPCONST</span></span><br><span class="line">	overlength_burst = (i_len &gt; OPT_MAXBURST);</span><br><span class="line">	<span class="comment">// Verilator lint_on  CMPCONST</span></span><br></pre></td></tr></table></figure>



<h2 id="3-4-invalid-burst"><a href="#3-4-invalid-burst" class="headerlink" title="3.4 invalid burst"></a>3.4 invalid burst</h2><ul>
<li>如果允许窄突发,那么当突发大小（<code>1&lt;&lt;(i_size+3)</code>）大于数据宽度<code>DW</code>时，突发被视为无效;</li>
<li>如果不允许窄突发，那么当突发大小不等于数据宽度<code>DW</code>时，突发被视为无效。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (OPT_NARROW_BURST)</span><br><span class="line">	invalid_burst = ((<span class="number">1</span>&lt;&lt;(i_size+<span class="number">3</span>)) &gt; DW);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	invalid_burst = ((<span class="number">1</span>&lt;&lt;(i_size+<span class="number">3</span>)) != DW);</span><br></pre></td></tr></table></figure>

<ul>
<li>如果突发类型<code>i_burst</code>为<code>2&#39;b11</code>（通常表示保留的突发类型），那么突发被视为无效。</li>
<li>如果突发类型为<code>2&#39;b00</code>（表示固定突发）并且突发长度<code>i_len</code>大于15，那么突发被视为无效。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i_burst == <span class="number">2&#x27;b11</span>)</span><br><span class="line">	invalid_burst = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (i_burst == <span class="number">2&#x27;b00</span> &amp;&amp; i_len &gt; <span class="number">15</span>)</span><br><span class="line">	invalid_burst = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>



<h2 id="3-5-wrap-err"><a href="#3-5-wrap-err" class="headerlink" title="3.5 wrap_err"></a>3.5 wrap_err</h2><p>对于<em>wrap</em> 突发模式，有长度的限制。其中突发信息中<em>i_len</em> 的大小必须是： <code>1，3，7，15</code>，否则出错；</p>
<p>如果是突发的初始阶段，那么检查突发长度<code>i_len</code>是否为<em>1、3、7</em>或<em>15</em>，这些是<code>wrap burst</code>允许的长度。如果不是这些长度，那么<code>wrap_error</code>被设置为<em>1</em>，表示有错误。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	wrap_error = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (i_burst == <span class="number">2&#x27;b10</span>)</span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span> (i_initial)</span><br><span class="line">			<span class="comment">// Ever after the initial time, i_len will</span></span><br><span class="line">			<span class="comment">// decrement and we can no longer check for an</span></span><br><span class="line">			<span class="comment">// exact length match</span></span><br><span class="line">			wrap_error = ((i_len != <span class="number">1</span>)&amp;&amp;(i_len != <span class="number">3</span>)&amp;&amp;</span><br><span class="line">                             (i_len != <span class="number">7</span>)&amp;&amp;(i_len != <span class="number">15</span>));</span><br><span class="line">		<span class="keyword">else</span></span><br></pre></td></tr></table></figure>

<p>如果不是突发的初始阶段，那么只需要检查突发长度是否大于15，如果是，那么<code>wrap_error</code>被设置为1，表示有错误。最后，如果地址没有对齐（<code>o_aligned</code>为假），那么<code>wrap_error</code>被设置为1，表示有错误。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">			<span class="comment">// We can, however, check against the upper</span></span><br><span class="line">			<span class="comment">// limit</span></span><br><span class="line">			wrap_error = (i_len &gt; <span class="number">15</span>);</span><br><span class="line">		<span class="keyword">if</span> (!o_aligned)</span><br><span class="line">			wrap_error = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>



<h2 id="3-6-transfer-bytes"><a href="#3-6-transfer-bytes" class="headerlink" title="3.6 transfer bytes"></a>3.6 transfer bytes</h2><p><em>axi</em> 信号中的 <em>i_len</em> 表示一次 <em>burst</em> 传输的 <em>number of beat</em> 或者 <em>number of transfer</em>。一共<em>8bits</em> 可以进行表示<em>1-256 beats</em>规模的 <em>burst</em> 传输。<br>$$<br>TransferBytes &#x3D; 2^{i_len+1}<br>$$</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line">	transfer_bytes = (i_len+<span class="number">1</span>) &lt;&lt; i_size;</span><br></pre></td></tr></table></figure>



<h2 id="3-7-lock-err"><a href="#3-7-lock-err" class="headerlink" title="3.7 lock err"></a>3.7 lock err</h2><p>在<em>AXI</em>协议中，<code>LOCK</code>信号用于指示一个独占访问或锁定访问。当<code>LOCK</code>信号为高电平时，表示当前的突发传输是一个锁定序列。举例：	</p>
<blockquote>
<p> 独占访问或锁定访问通常用于多主设备共享同一资源的情况，例如多个处理器共享同一块内存。在这种情况下，一个处理器可能需要对一块内存进行一系列的读-修改-写操作，而在这个过程中，它不希望其他处理器修改这块内存。因此，它会发出一个带有<code>LOCK</code>信号的突发传输，来锁定这块内存，直到它完成所有的操作。</p>
<p>假设有两个处理器A和B，它们都需要读取和修改同一块内存。如果没有<code>LOCK</code>信号，可能会出现以下情况：</p>
<ol>
<li><p>处理器A读取内存中的值。</p>
</li>
<li><p>处理器B读取内存中的值。</p>
</li>
<li><p>处理器A修改读取到的值，并将结果写回内存。</p>
</li>
<li><p>处理器B修改读取到的值，并将结果写回内存。</p>
<p>在这个过程中，处理器A的修改被处理器B覆盖了，这显然是不希望发生的。但是，如果处理器A在读取和写回内存时使用了<code>LOCK</code>信号，那么在它完成所有操作之前，处理器B将无法访问这块内存，从而避免了上述问题。</p>
</li>
</ol>
</blockquote>
<p>在这个过程中，处理器A的修改被处理器B覆盖了，这显然是不希望发生的。但是，如果处理器A在读取和写回内存时使用了<code>LOCK</code>信号，那么在它完成所有操作之前，处理器B将无法访问这块内存，从而避免了上述问题。</p>
<p>如果不允许独占访问（<code>OPT_EXCLUSIVE</code>为假）并且锁定信号<code>i_lock</code>为真，那么<code>lock_error</code>被设置为1，表示有错误。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	lock_error = (!OPT_EXCLUSIVE &amp;&amp; i_lock);</span><br></pre></td></tr></table></figure>

<p><code>if (i_lock)</code>：如果锁定信号<code>i_lock</code>为真，那么进行以下检查:</p>
<ul>
<li>如果<strong>地址没有对齐</strong>（<code>o_aligned</code>为假），那么<code>lock_error</code>被设置为1，表示有错误。</li>
<li>如果<strong>突发长度</strong><code>i_len</code>大于或等于16，那么<code>lock_error</code>被设置为1，表示有错误。</li>
<li>如果<strong>传输字节数</strong><code>transfer_bytes</code>大于128，那么<code>lock_error</code>被设置为1，表示有错误。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i_lock)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span> (!o_aligned)</span><br><span class="line">						lock_error = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (i_len &gt;= <span class="number">16</span>)</span><br><span class="line">						lock_error = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (transfer_bytes &gt; <span class="number">128</span>)</span><br><span class="line">						lock_error = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>对于1、2、4、8、16、32、64和128字节，检查相应位的地址是否为0，如果不为0，那么<code>lock_error</code>被设置为1，表示有错误。对于其他字节数，<code>lock_error</code>被设置为1，表示有错误。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i_initial)</span><br><span class="line"><span class="keyword">case</span>(transfer_bytes)</span><br><span class="line">  <span class="number">1</span>: <span class="keyword">begin</span> <span class="keyword">end</span></span><br><span class="line">           <span class="number">2</span>: <span class="keyword">if</span> ( i_addr[  <span class="number">0</span>]) 				 lock_error = <span class="number">1</span>;</span><br><span class="line">           <span class="number">4</span>: <span class="keyword">if</span> (|i_addr[<span class="number">1</span>:<span class="number">0</span>]) 				 lock_error = <span class="number">1</span>;</span><br><span class="line">  <span class="number">8</span>: <span class="keyword">if</span> (|i_addr[(AW&gt;<span class="number">3</span> ? <span class="number">3</span>:AW)-<span class="number">1</span>:<span class="number">0</span>]) lock_error = <span class="number">1</span>;</span><br><span class="line"> <span class="number">16</span>: <span class="keyword">if</span> (|i_addr[(AW&gt;<span class="number">4</span> ? <span class="number">4</span>:AW)-<span class="number">1</span>:<span class="number">0</span>]) lock_error = <span class="number">1</span>;</span><br><span class="line"> <span class="number">32</span>: <span class="keyword">if</span> (|i_addr[(AW&gt;<span class="number">5</span> ? <span class="number">5</span>:AW)-<span class="number">1</span>:<span class="number">0</span>]) lock_error = <span class="number">1</span>;</span><br><span class="line"> <span class="number">64</span>: <span class="keyword">if</span> (|i_addr[(AW&gt;<span class="number">6</span> ? <span class="number">6</span>:AW)-<span class="number">1</span>:<span class="number">0</span>]) lock_error = <span class="number">1</span>;</span><br><span class="line"><span class="number">128</span>: <span class="keyword">if</span> (|i_addr[(AW&gt;<span class="number">7</span> ? <span class="number">7</span>:AW)-<span class="number">1</span>:<span class="number">0</span>]) lock_error = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">default</span>: lock_error = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">endcase</span></span><br></pre></td></tr></table></figure>



<h2 id="3-8-o-valid"><a href="#3-8-o-valid" class="headerlink" title="3.8 o_valid"></a>3.8 o_valid</h2><p>定义了一个名为<code>o_valid</code>的输出信号，它用于汇总所有的检查结果。<code>o_valid = 1;</code>：首先，将<code>o_valid</code>初始化为1，表示默认情况下请求是有效的。</p>
<p>如果出现页面断裂（<code>page_break</code>）、<em>wrap</em> 错误（<code>wrap_error</code>）或无效突发（<code>invalid_burst</code>），那么<code>o_valid</code>被设置为0，表示请求无效。</p>
<p>如果突发长度过长（<code>overlength_burst</code>），那么<code>o_valid</code>被设置为0，表示请求无效。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	o_valid = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (page_break || wrap_error || invalid_burst)</span><br><span class="line">		o_valid = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (overlength_burst)</span><br><span class="line">		o_valid = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>如果不允许独占访问（<code>OPT_EXCLUSIVE</code>为假）并且锁定信号<code>i_lock</code>为真，那么<code>o_valid</code>被设置为0，表示请求无效。</p>
<p>如果出现锁定错误（<code>lock_error</code>），那么<code>o_valid</code>被设置为0，表示请求无效</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">if</span> (!OPT_EXCLUSIVE &amp;&amp; i_lock)</span><br><span class="line">		o_valid = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (lock_error)</span><br><span class="line">		o_valid = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>



<h1 id="4-4K-boundary"><a href="#4-4K-boundary" class="headerlink" title="4. 4K_boundary"></a>4. 4K_boundary</h1><blockquote>
<p><strong>4kB boundary, page_break, last_addr:</strong></p>
<p>The specification specifically prohibits any transaction from crossing a <em>4kB</em> boundary .  We need the generate to make certain the <code>(AW&gt;12)</code> is checked and so as to <strong>avoid</strong> the synthesis error for referencing addresses that are not valid</p>
</blockquote>
<h2 id="4-1-boundary"><a href="#4-1-boundary" class="headerlink" title="4.1 boundary"></a>4.1 boundary</h2><p>如果地址宽度<code>AW</code>大于12，那么进行以下操作。这是因为如果<code>AW</code>小于或等于12，那么地址空间小于或等于4KB，不可能跨越4KB的边界。</p>
<ul>
<li><code>reg [AW-1:0] last_addr;</code>：定义了一个寄存器<code>last_addr</code>，用于存储突发的最后一个地址。</li>
<li><code>reg r_page_break;</code>：定义了一个寄存器<code>r_page_break</code>，用于存储页面断裂的信号。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">generate</span> <span class="keyword">if</span> (AW &gt; <span class="number">12</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="comment">// We need the generate to make certain the (AW&gt;12) is</span></span><br><span class="line">	<span class="comment">// checked and so as to avoid the synthesis error for</span></span><br><span class="line">	<span class="comment">// referencing addresses that are not valid</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">reg</span>	[AW-<span class="number">1</span>:<span class="number">0</span>]	last_addr;</span><br><span class="line">	<span class="keyword">reg</span>				r_page_break;</span><br></pre></td></tr></table></figure>

<p>需要计算突发的最后一个地址。这是通过将突发长度<code>i_len</code>左移突发大小<code>i_size</code>位（即乘以<code>2^i_size</code>），然后加上初始地址<code>i_addr</code>得到的。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(*)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	r_page_break = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">// Verilator lint_off WIDTH</span></span><br><span class="line">	last_addr = i_addr + (i_len&lt;&lt;i_size);</span><br><span class="line">	<span class="comment">// Verilator lint_on  WIDTH</span></span><br><span class="line">	<span class="keyword">if</span> ((AW &gt; <span class="number">12</span>)&amp;&amp;(i_burst == <span class="number">2&#x27;b01</span>))</span><br><span class="line">		r_page_break = (last_addr[AW-<span class="number">1</span>:<span class="number">12</span>]!=i_addr[AW-<span class="number">1</span>:<span class="number">12</span>]);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>如果地址宽度<code>AW</code>大于12并且突发类型<code>i_burst</code>为<code>2&#39;b01</code>（在AXI协议中，这表示递增突发），那么检查突发的最后一个地址和初始地址是否在同一个4KB的页面内。如果不在，那么<code>r_page_break</code>被设置为1，表示有页面断裂。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assign</span>	page_break = r_page_break;</span><br></pre></td></tr></table></figure>

<p>将<code>r_page_break</code>赋值给输出信号<code>page_break</code></p>
<h2 id="4-2-Verilator-UNUSED"><a href="#4-2-Verilator-UNUSED" class="headerlink" title="4.2 Verilator UNUSED"></a>4.2 Verilator UNUSED</h2><p>用于避免Verilator产生未使用信号的警告的技巧。它定义了一个未使用的线<code>unused</code>，并将其与<code>last_addr</code>进行位与操作。这样，即使<code>last_addr</code>没有在其他地方使用，Verilator也不会产生警告。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Make Verilator happy</span></span><br><span class="line"><span class="comment">// &#123;&#123;&#123;</span></span><br><span class="line"><span class="comment">// Verilator lint_off UNUSED</span></span><br><span class="line"><span class="keyword">wire</span>	unused;</span><br><span class="line"><span class="keyword">assign</span>	unused = &amp;&#123; <span class="number">1&#x27;b0</span>, last_addr &#125;;</span><br><span class="line"><span class="comment">// Verilator lint_on  UNUSED</span></span><br></pre></td></tr></table></figure>







</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">冰蒂斯</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/11/26/formal-valaddr/">http://example.com/2023/11/26/formal-valaddr/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">冰蒂斯のformula</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AXI/">AXI</a><a class="post-meta__tags" href="/tags/formal/">formal</a></div><div class="post_share"><div class="social-share" data-image="/img/chainsaw_red.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/27/formal-wstrb/" title="formal_wstrb"><img class="cover" src="/img/chainsaw_red.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">formal_wstrb</div></div></a></div><div class="next-post pull-right"><a href="/2023/11/26/formal-addr/" title="formal_addr"><img class="cover" src="/img/chainsaw_red.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">formal_addr</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/11/18/Property-master/" title="Property_axil-master"><img class="cover" src="/img/chainsaw_makima04.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-18</div><div class="title">Property_axil-master</div></div></a></div><div><a href="/2023/11/26/formal-addr/" title="formal_addr"><img class="cover" src="/img/chainsaw_red.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">formal_addr</div></div></a></div><div><a href="/2023/11/27/formal-wstrb/" title="formal_wstrb"><img class="cover" src="/img/chainsaw_red.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-27</div><div class="title">formal_wstrb</div></div></a></div><div><a href="/2023/11/15/5-1-1-basic-master/" title="5-1 basic_master(中)"><img class="cover" src="/img/chainsaw_makima04.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-15</div><div class="title">5-1 basic_master(中)</div></div></a></div><div><a href="/2023/12/06/MM2S/" title="MM2S"><img class="cover" src="/img/chainsaw_red.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-06</div><div class="title">MM2S</div></div></a></div><div><a href="/2023/11/13/5-1-basic-master/" title="5-1 basic_master(上)"><img class="cover" src="/img/chainsaw_makima04.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-13</div><div class="title">5-1 basic_master(上)</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">冰蒂斯</div><div class="author-info__description">螺旋上升的人生,也是多线程的人生</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Desc-Purp"><span class="toc-number">1.</span> <span class="toc-text">1. Desc &amp; Purp</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Param-Signals"><span class="toc-number">2.</span> <span class="toc-text">2. Param &amp; Signals</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Logic"><span class="toc-number">3.</span> <span class="toc-text">3. Logic</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-addr-lsbs"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 addr_lsbs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-o-aligned"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 o_aligned</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-overlength-burst"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 overlength_burst</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-invalid-burst"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 invalid burst</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-wrap-err"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 wrap_err</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-transfer-bytes"><span class="toc-number">3.6.</span> <span class="toc-text">3.6 transfer bytes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-lock-err"><span class="toc-number">3.7.</span> <span class="toc-text">3.7 lock err</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-o-valid"><span class="toc-number">3.8.</span> <span class="toc-text">3.8 o_valid</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-4K-boundary"><span class="toc-number">4.</span> <span class="toc-text">4. 4K_boundary</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-boundary"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 boundary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Verilator-UNUSED"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 Verilator UNUSED</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/07/skid-buffer/" title="skid_buffer"><img src="/img/chainsaw_power01.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="skid_buffer"/></a><div class="content"><a class="title" href="/2024/01/07/skid-buffer/" title="skid_buffer">skid_buffer</a><time datetime="2024-01-07T12:48:03.000Z" title="发表于 2024-01-07 20:48:03">2024-01-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/06/how2blog/" title="how2blog"><img src="/img/reze.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="how2blog"/></a><div class="content"><a class="title" href="/2024/01/06/how2blog/" title="how2blog">how2blog</a><time datetime="2024-01-06T14:34:23.000Z" title="发表于 2024-01-06 22:34:23">2024-01-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/27/S2MM/" title="S2MM"><img src="/img/chainsaw_red.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="S2MM"/></a><div class="content"><a class="title" href="/2023/12/27/S2MM/" title="S2MM">S2MM</a><time datetime="2023-12-27T05:57:36.000Z" title="发表于 2023-12-27 13:57:36">2023-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/24/auto2-using/" title="auto2-using"><img src="/img/chainsaw_makima04.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="auto2-using"/></a><div class="content"><a class="title" href="/2023/12/24/auto2-using/" title="auto2-using">auto2-using</a><time datetime="2023-12-24T14:17:24.000Z" title="发表于 2023-12-24 22:17:24">2023-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/12/auto1-introduction/" title="auto1_introduction"><img src="/img/flower.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="auto1_introduction"/></a><div class="content"><a class="title" href="/2023/12/12/auto1-introduction/" title="auto1_introduction">auto1_introduction</a><time datetime="2023-12-12T06:18:40.000Z" title="发表于 2023-12-12 14:18:40">2023-12-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 冰蒂斯</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>