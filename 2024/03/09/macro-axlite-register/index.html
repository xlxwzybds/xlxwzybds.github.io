<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>macro-axlite-register | 冰蒂斯のformula</title><meta name="author" content="冰蒂斯"><meta name="copyright" content="冰蒂斯"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. spill_register Purpose : Register with ready&#x2F;valid interface to cut all combinational interface paths Parameter : you can set passby instead of using skidbuffer to cut combinatorical logic paths 12">
<meta property="og:type" content="article">
<meta property="og:title" content="macro-axlite-register">
<meta property="og:url" content="http://more_study@163.com/2024/03/09/macro-axlite-register/index.html">
<meta property="og:site_name" content="冰蒂斯のformula">
<meta property="og:description" content="1. spill_register Purpose : Register with ready&#x2F;valid interface to cut all combinational interface paths Parameter : you can set passby instead of using skidbuffer to cut combinatorical logic paths 12">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://more_study@163.com/img/makima.jpg">
<meta property="article:published_time" content="2024-03-09T03:40:22.000Z">
<meta property="article:modified_time" content="2024-03-11T12:31:02.188Z">
<meta property="article:author" content="冰蒂斯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://more_study@163.com/img/makima.jpg"><link rel="shortcut icon" href="/img/bloodborn_lib.png"><link rel="canonical" href="http://more_study@163.com/2024/03/09/macro-axlite-register/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'macro-axlite-register',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-11 20:31:02'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/reze.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="冰蒂斯のformula"><span class="site-name">冰蒂斯のformula</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">macro-axlite-register</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-09T03:40:22.000Z" title="发表于 2024-03-09 11:40:22">2024-03-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-11T12:31:02.188Z" title="更新于 2024-03-11 20:31:02">2024-03-11</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="macro-axlite-register"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-spill-register"><a href="#1-spill-register" class="headerlink" title="1. spill_register"></a>1. spill_register</h1><blockquote>
<p><strong>Purpose</strong> : Register with <code>ready/valid</code> interface to cut all combinational interface paths</p>
<p><strong>Parameter</strong> : you can set passby instead of using skidbuffer to cut combinatorical logic paths</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">parameter</span> <span class="keyword">type</span> T      = <span class="keyword">logic</span>,</span><br><span class="line"><span class="comment">// make this spill register transparent</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">bit</span>  Bypass = <span class="number">1&#x27;b0</span>     </span><br></pre></td></tr></table></figure>

<p><strong>Desciption</strong> : Wrapper around the <em><u>flushable spill register</u></em> to maintain <u><em>back-ward</em></u> compatibility.</p>
</blockquote>
<p>参数主要包含一对 <code>valid &amp; ready</code> <em>shake hands signals</em>, 以及一个 data负载信号。被包含的 <a target="_blank" rel="noopener" href="https://github.com/pulp-platform/common_cells/blob/master/src/spill_register_flushable.sv"><em><u>flushable spill register</u></em></a> 可以视为一个 具有反压 <em>back-forward</em> 能力的 <em>skidbuffer</em> .不过代码语句和我常见的 <em>skidbuffer</em> 略有出入；</p>
<h2 id="1-1-implement"><a href="#1-1-implement" class="headerlink" title="1.1 implement"></a>1.1 implement</h2><p><strong>1.判断 <code>data_o</code> 输出那一个寄存器</strong>。如果 B register 保持 full state，优先输出 B 数据，其次考虑输出 A 数据；</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We empty the spill register before the slice register.</span></span><br><span class="line"><span class="keyword">assign</span> data_o = b_full_q ? b_data_q : a_data_q;</span><br></pre></td></tr></table></figure>

<p><strong>2.输出信号有效 valid_o。</strong> 只需要 A、B 其中一个寄存器中包含有效信号，就高速另一侧：模块内包含有效信息；</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The unit provides output as long as one of the registers is filled.</span></span><br><span class="line"><span class="keyword">assign</span> valid_o = a_full_q | b_full_q;</span><br></pre></td></tr></table></figure>

<p><strong>3.经典反压方法</strong>。将中间寄存器的有效信号的逆信号，当作 o_ready。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We can accept input as long as register B is not full.</span></span><br><span class="line"><span class="comment">// Note: flush_i and valid_i must not be high at the same time,</span></span><br><span class="line"><span class="comment">// otherwise an invalid handshake may occur</span></span><br><span class="line"><span class="keyword">assign</span> ready_o = !a_full_q || !b_full_q;</span><br></pre></td></tr></table></figure>

<p>在看下面的信号介绍之前，注意 <code>.flush_i(1&#39;b0),</code> 信号保持为0.</p>
<p><strong>4. a_fill &amp; a_drain</strong>。</p>
<ul>
<li>信号 <code>a_fill==1</code> 表示： <code>slave</code>一侧发生与 <em>upstream master</em> 的 <em>shake hand operation</em> ；</li>
<li>信号 <code>a_drain==1</code>表示：A register 中含有效数据，B register 中无有效数据；</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill the A register when the A or B register is empty. Drain the A register</span></span><br><span class="line"><span class="comment">// whenever it is full and being filled, or if a flush is requested.</span></span><br><span class="line"><span class="keyword">assign</span> a_fill = valid_i &amp;&amp; ready_o ;</span><br><span class="line"><span class="keyword">assign</span> a_drain = (a_full_q &amp;&amp; !b_full_q);</span><br></pre></td></tr></table></figure>

<p><strong>5.b_fill &amp; b_drain</strong>。</p>
<ul>
<li>信号 <code>b_fill==1</code> 表示： A_R 中含有效信号， B_R 不含有效信号，A_R有效数据将会流向B_R，且 <em>upstream</em> 发出 <em>back-forward</em> 反压信息；</li>
<li>信号 <code>b_drain==1</code>表示：B_R 含有效信号，并且下游接收数据；</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill the B register whenever the A register is drained, but the downstream</span></span><br><span class="line"><span class="comment">// circuit is not ready. Drain the B register whenever it is full and the</span></span><br><span class="line"><span class="comment">// downstream circuit is ready, or if a flush is requested.</span></span><br><span class="line"><span class="keyword">assign</span> b_fill = a_drain &amp;&amp; (!ready_i) ;</span><br><span class="line"><span class="keyword">assign</span> b_drain = (b_full_q &amp;&amp; ready_i) ;</span><br></pre></td></tr></table></figure>

<p><strong>6.A_R &amp;&amp; B_R 的数据传输</strong>。</p>
<p>逻辑<code>a_fill == 1</code> 表示 <code>slave port</code>一侧发生了 <em>hand shake operation</em>，将会发 <em>upstream input data</em> 传输进 A_R 寄存器；</p>
<p>逻辑 <code>a_fill || a_drain == 1</code> 含两个信号。 <em>a_fill asserted</em> 表示传入的信号是成功握手传入的，数据是有效数据，将信号 <em>a_fill &#x3D;&#x3D; 1</em> 有效的信息传递给 <em>a_full_q&#x3D;&#x3D;1</em> 表示寄存器A中的数据有效；  <em>a_drain&#x3D;&#x3D; 1</em> 表示寄存器A的数据已经被转移到寄存器B中去了，现在需要更新寄存器A的数据有效信息。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The A register.</span></span><br><span class="line">  T a_data_q;</span><br><span class="line">  <span class="keyword">logic</span> a_full_q;</span><br><span class="line">  <span class="keyword">logic</span> a_fill, a_drain;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the input data transaction logic</span></span><br><span class="line">  <span class="keyword">always_ff</span> @(<span class="keyword">posedge</span> clk_i <span class="keyword">or</span> <span class="keyword">negedge</span> rst_ni) <span class="keyword">begin</span> : ps_a_data</span><br><span class="line">    <span class="keyword">if</span> (!rst_ni)</span><br><span class="line">      a_data_q &lt;= &#x27;<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a_fill)</span><br><span class="line">      a_data_q &lt;= data_i;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the input valid_signal transaction logic</span></span><br><span class="line">  <span class="keyword">always_ff</span> @(<span class="keyword">posedge</span> clk_i <span class="keyword">or</span> <span class="keyword">negedge</span> rst_ni) <span class="keyword">begin</span> : ps_a_full</span><br><span class="line">    <span class="keyword">if</span> (!rst_ni)</span><br><span class="line">      a_full_q &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a_fill || a_drain)</span><br><span class="line">      a_full_q &lt;= a_fill;</span><br><span class="line">  <span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>B寄存器的逻辑略。<font color="red">这里深究逻辑实现，只需要知道这个反压是如何实现的就行了</font></p>
<h2 id="1-2-spill-register-Vs-skidbffer"><a href="#1-2-spill-register-Vs-skidbffer" class="headerlink" title="1.2 spill_register Vs skidbffer"></a>1.2 spill_register Vs skidbffer</h2><p>两者只是中间寄存器放置的位置不一样，我将简单说明。在 <em>skidbuffer</em> 中把寄存器A作为中间缓冲寄存器，B当作最终输入寄存器。每一个信号都需要判断能否直接放入B中，不能在缓存进A；在 <em>spill_register</em> 中所有输入都需要先尝试放入A中，如果发生反压，将A数据交给B，再用A当缓冲寄存器接收缓冲数据；</p>
<h1 id="2-rr-arb-tree"><a href="#2-rr-arb-tree" class="headerlink" title="2. rr_arb_tree"></a>2. rr_arb_tree</h1><blockquote>
<p><strong>Purpose</strong> : <u><em>Round-robin arbiter</em></u> for req&#x2F;gnt and vld&#x2F;rdy interfaces with optional priority</p>
<p><strong>基本思路</strong>：当一个req得到了grant许可之后，它的优先级在下一次仲裁时就会调整为最低</p>
<p><strong>目的</strong>：每个req的优先级不固定，在被grant之后降至最低，保证所有req都能轮流被grant。</p>
<p><strong>Description</strong> : </p>
<p>This refers to fair throughput distribution when not all inputs have active requests.This module has an internal state <code>rr_q</code> which defines the <u><em><strong>highest priority input</strong></em></u>. (When  <code>ExtPrio</code> is <code>1&#39;b1</code> this state is provided from the outside.) The arbitration tree will choose the input with the same index as currently defined by the state if it has an active request. Otherwise a <em>random</em> other active input is selected. The parameter <code>FairArb</code> is used to distinguish between two methods of calculating the next state.  </p>
<ul>
<li><code>1&#39;b0</code>: The next state is calculated by advancing the current state by one. This leads to the state being calculated without the context of the active request. Leading to an unfair throughput distribution if not all inputs have active requests.</li>
</ul>
<p>*<code>1&#39;b1</code>: The next state jumps to the next unserved request with higher index. This is achieved by using two trailing-zero-counters (<code>lzc</code>). The upper has the masked  <code>req_i</code> signal with all indices which will have a higher priority in the next state.</p>
<p>The trailing zero count defines the input index with the next highest priority after the current one is served. When the upper is empty the lower <code>lzc</code> provides the wrapped index if there are outstanding requests with lower or same priority.</p>
<p>The implication of throughput fairness on the module timing are:</p>
<ul>
<li><p>The trailing zero counter (<code>lzc</code>) has a loglog relation of input to output timing. This means that in this module the input to register path scales with Log(Log(<code>NumIn</code>)).</p>
</li>
<li><p>The <code>rr_arb_tree</code> data multiplexing scales with Log(<code>NumIn</code>). This means that the input to output timing path of this module also scales scales with Log(<code>NumIn</code>).</p>
</li>
</ul>
<p> This implies that in this module the input to output path is always longer than the input to register path. As the output data usually also terminates in a register the parameter <code>FairArb</code>only has implications on the area. When it is <code>1&#39;b0</code> a static plus one adder is instantiated.</p>
<p> If it is <code>1&#39;b1</code> two <code>lzc</code>, a masking logic stage and a two input multiplexer are instantiated. However these are small in respect of the data multiplexers needed, as the width of the <code>req_i</code>signal is usually less as than <code>DataWidth</code>.</p>
</blockquote>
<h2 id="2-1-parameter"><a href="#2-1-parameter" class="headerlink" title="2.1 parameter"></a>2.1 parameter</h2><p>参数有很多，需要用到的很少。</p>
<blockquote>
<p><em>parameter about <strong>1)</strong>  number of input;   <strong>2)</strong> datawith ;   <strong>3)</strong> payload data_type</em></p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Number of inputs to be arbitrated.</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">int</span> <span class="keyword">unsigned</span> NumIn      = <span class="number">64</span>,</span><br><span class="line"><span class="comment">/// Data width of the payload in bits. Not needed if `DataType` is overwritten.</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">int</span> <span class="keyword">unsigned</span> DataWidth  = <span class="number">32</span>,</span><br><span class="line"><span class="comment">/// Data type of the payload, can be overwritten with custom type. Only use of `DataWidth`.</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">type</span>         DataType   = <span class="keyword">logic</span> [DataWidth-<span class="number">1</span>:<span class="number">0</span>],</span><br></pre></td></tr></table></figure>

<blockquote>
<p><em>Set to <code>1&#39;b1</code> to treat <u>req&#x2F;gnt</u> as <u>vld&#x2F;rdy</u>.</em></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">parameter</span> <span class="keyword">bit</span>          AxiVldRdy  = <span class="number">1&#x27;b1</span>,</span><br></pre></td></tr></table></figure>
</blockquote>
<p>If <code>AxiVldRdy</code> is set, the <u><em>req&#x2F;gnt</em></u> signals are compliant with the <u><em>AXI style vld&#x2F;rdy handshake</em></u>. Namely, <u><em>upstream vld (req)</em></u> must not depend on <u><em>rdy (gnt),</em></u> as it can be <u><em><strong>deasserted</strong></em></u> again even though <u><em><strong>vld is asserted</strong></em></u>. Enabling <code>AxiVldRdy</code> leads to a reduction of arbiter delay and area.  <em>ready</em> 信号需要波浪式的起伏，最大的吞吐量是 50% 。</p>
<blockquote>
<p>The <code>LockIn</code> option prevents the arbiter from changing the arbitration decision when the arbiter is disabled. I.e., the index of the first request that wins the arbitration will be locked in case the destination is not able to grant the request in the same cycle. <strong><font color="red">暂时不知道作用</font></strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Set to `1&#x27;b1` to enable.</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">bit</span>          LockIn     = <span class="number">1&#x27;b0</span>,</span><br></pre></td></tr></table></figure>
</blockquote>
<p>两个和 index 数量有关的 parameter。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Dependent parameter, do **not** overwrite.</span></span><br><span class="line"><span class="comment">/// Width of the arbitration priority signal and the arbitrated index.</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">int</span> <span class="keyword">unsigned</span> IdxWidth   = (NumIn &gt; <span class="number">32&#x27;d1</span>) ? <span class="keyword">unsigned</span>&#x27;(<span class="built_in">$clog2</span>(NumIn)) : <span class="number">32&#x27;d1</span>,</span><br><span class="line"><span class="comment">/// Dependent parameter, do **not** overwrite.</span></span><br><span class="line"><span class="comment">/// Type for defining the arbitration priority and arbitrated index signal.</span></span><br><span class="line"><span class="keyword">parameter</span> <span class="keyword">type</span>         idx_t      = <span class="keyword">logic</span> [IdxWidth-<span class="number">1</span>:<span class="number">0</span>]</span><br></pre></td></tr></table></figure>



<h2 id="2-2-Input-output"><a href="#2-2-Input-output" class="headerlink" title="2.2 Input &#x2F; output"></a>2.2 Input &#x2F; output</h2><p>一些暂时意义为止的端口</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">parameter</span> <span class="keyword">type</span>         idx_t      = <span class="keyword">logic</span> [IdxWidth-<span class="number">1</span>:<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/// Clears the arbiter state. </span></span><br><span class="line"><span class="comment">/// Only used if `ExtPrio` is `1&#x27;b0` or `LockIn` is `1&#x27;b1`.</span></span><br><span class="line"> <span class="keyword">input</span>  <span class="keyword">logic</span>                flush_i,</span><br><span class="line"> <span class="comment">/// External round-robin priority. </span></span><br><span class="line"><span class="comment">///	Only used if `ExtPrio` is `1&#x27;b1.`</span></span><br><span class="line"> <span class="keyword">input</span>  idx_t                rr_i,</span><br><span class="line"></span><br><span class="line"> <span class="comment">/// Index from which input the data came from.</span></span><br><span class="line"> <span class="keyword">output</span> idx_t                idx_o</span><br></pre></td></tr></table></figure>



<p><u><em>input request  , Input data for arbitration , and its grants</em></u>. 可以将这个端口看作 <em>skidbuffer</em> 的 <em>upstream port</em>；</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Input requests arbitration.</span></span><br><span class="line"><span class="keyword">input</span>  <span class="keyword">logic</span>    [NumIn-<span class="number">1</span>:<span class="number">0</span>] req_i,</span><br><span class="line"><span class="comment">/// Input request is granted.</span></span><br><span class="line"><span class="keyword">output</span> <span class="keyword">logic</span>    [NumIn-<span class="number">1</span>:<span class="number">0</span>] gnt_o,</span><br><span class="line"><span class="comment">/// Input data for arbitration.</span></span><br><span class="line"><span class="keyword">input</span>  DataType [NumIn-<span class="number">1</span>:<span class="number">0</span>] data_i,</span><br></pre></td></tr></table></figure>

<p>将下面的端口看作 <em>skidbuffer</em> 的 <em>downstream port</em>；</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Output request is valid.</span></span><br><span class="line"><span class="keyword">output</span> <span class="keyword">logic</span>                req_o,</span><br><span class="line"><span class="comment">/// Output request is granted.</span></span><br><span class="line"><span class="keyword">input</span>  <span class="keyword">logic</span>                gnt_i,</span><br><span class="line"><span class="comment">/// Output data.</span></span><br><span class="line"><span class="keyword">output</span> DataType             data_o,</span><br></pre></td></tr></table></figure>



<h2 id="2-3-LockIn"><a href="#2-3-LockIn" class="headerlink" title="2.3 LockIn"></a>2.3 LockIn</h2><h2 id="2-4-Fair-Arbiter-自动调整轮询顺序"><a href="#2-4-Fair-Arbiter-自动调整轮询顺序" class="headerlink" title="2.4 Fair Arbiter   自动调整轮询顺序"></a>2.4 Fair Arbiter   <strong>自动调整轮询顺序</strong></h2><p>需要的寄存器类型：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">logic</span> [NumIn-<span class="number">1</span>:<span class="number">0</span>] upper_mask,  lower_mask;</span><br><span class="line">idx_t             upper_idx,   lower_idx,   next_idx;</span><br><span class="line"><span class="keyword">logic</span>             upper_empty, lower_empty;</span><br></pre></td></tr></table></figure>









<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">genvar</span> i = <span class="number">0</span>; i &lt; NumIn; i++) <span class="keyword">begin</span> : gen_mask</span><br><span class="line">      <span class="keyword">assign</span> upper_mask[i] = (i &gt;  rr_q) ? req_d[i] : <span class="number">1&#x27;b0</span>;</span><br><span class="line">      <span class="keyword">assign</span> lower_mask[i] = (i &lt;= rr_q) ? req_d[i] : <span class="number">1&#x27;b0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    lzc #(</span><br><span class="line">      <span class="variable">.WIDTH</span> ( NumIn ),</span><br><span class="line">      <span class="variable">.MODE</span>  ( <span class="number">1&#x27;b0</span>  )</span><br><span class="line">    ) i_lzc_upper (</span><br><span class="line">      <span class="variable">.in_i</span>    ( upper_mask  ),</span><br><span class="line">      <span class="variable">.cnt_o</span>   ( upper_idx   ),</span><br><span class="line">      <span class="variable">.empty_o</span> ( upper_empty )</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    lzc #(</span><br><span class="line">      <span class="variable">.WIDTH</span> ( NumIn ),</span><br><span class="line">      <span class="variable">.MODE</span>  ( <span class="number">1&#x27;b0</span>  )</span><br><span class="line">    ) i_lzc_lower (</span><br><span class="line">      <span class="variable">.in_i</span>    ( lower_mask  ),</span><br><span class="line">      <span class="variable">.cnt_o</span>   ( lower_idx   ),</span><br><span class="line">      <span class="variable">.empty_o</span> ( <span class="comment">/*unused*/</span>  )</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> next_idx = upper_empty      ? lower_idx : upper_idx;</span><br><span class="line">    <span class="keyword">assign</span> rr_d     = (gnt_i &amp;&amp; req_o) ? next_idx  : rr_q;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span> : gen_unfair_arb</span><br><span class="line">    <span class="keyword">assign</span> rr_d = (gnt_i &amp;&amp; req_o) ? ((rr_q == idx_t&#x27;(NumIn-<span class="number">1</span>)) ? &#x27;<span class="number">0</span> : rr_q + <span class="number">1&#x27;b1</span>) : rr_q;</span><br><span class="line">  <span class="keyword">end</span></span><br></pre></td></tr></table></figure>





<h2 id="2-3-arbiter-tree-仲裁树实现"><a href="#2-3-arbiter-tree-仲裁树实现" class="headerlink" title="2.3 arbiter tree 仲裁树实现"></a>2.3 arbiter tree 仲裁树实现</h2><p><img src="https://lyc-picture.oss-cn-shanghai.aliyuncs.com/obsidian/Systemverilog%E5%AE%9E%E7%8E%B0%E5%8F%82%E6%95%B0%E5%8C%96%E7%9A%84Round-Robin%20Arbiter%20Tree/Round-Robin%20Arbiter%20Tree-req_sel.png" alt="img"></p>
<h1 id="3-lzc：-leading-trailing-zero-counter"><a href="#3-lzc：-leading-trailing-zero-counter" class="headerlink" title="3. lzc：*leading&#x2F;trailing zero counter*"></a>3. lzc：*<u>leading&#x2F;trailing zero counter</u>*</h1><h2 id="3-1-Algorithm"><a href="#3-1-Algorithm" class="headerlink" title="3.1 Algorithm"></a>3.1 Algorithm</h2><p>实现的直观结果如下。本文只展示两种实现方法，遍历和二分，更复杂的 nlz 方法不讨论。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">trailing_zeroes( <span class="number">8&#x27;b</span>0000_0000 ) = <span class="number">8</span></span><br><span class="line">trailing_zeroes( <span class="number">8&#x27;b</span>1111_1111 ) = <span class="number">0</span></span><br><span class="line">trailing_zeroes( <span class="number">8&#x27;b</span>0001_1100 ) = <span class="number">2</span></span><br><span class="line">trailing_zeroes( <span class="number">8&#x27;b</span>0001_1101 ) = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>简单直观的方法：遍历</p>
</blockquote>
<p>一般的算法思路如何完成 <em><u>leading&#x2F;trailing zero counter</u></em> ，我首先想到的便是一步一步查询输入的 <u><em>first&#x2F;last bit</em></u> 是否含有 0。这种方法简单直观，在 bits 数量较少的时候会非常快得到结果。但是当 bits 数量较大时，该方法花费的时间就会随着比特的长度线性增长。</p>
<blockquote>
<p>使用 Mask 二分法</p>
</blockquote>
<p>该代码的 C 语言实现如下。该代码使用 <u><em>32bits</em></u> 举例，首先 mask 覆盖所有的 lower 16bits 观察是否 x 的所有 16bits 低位都为 0bit。如果是，则逻辑右移x，重复对x的高位16bits进行低位 8bits 的mask 覆盖。否则不进行逻辑移动，直接对x的低16bits进行 8bits 的mask 覆盖。该算法的复杂度会随着 <em>log( len(x) )</em> 增加，例如 32bits是 2^5 ；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="title function_">trailing_zeroes</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">unsigned</span> bits = <span class="number">0</span>, x = n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (x) &#123;</span><br><span class="line">        <span class="comment">/* assuming `x` has 32 bits: lets count the low order 0 bits in batches */</span></span><br><span class="line">        <span class="comment">/* mask the 16 low order bits, add 16 and shift them out if they are all 0 */</span></span><br><span class="line">        <span class="keyword">if</span> (!(x &amp; <span class="number">0x0000FFFF</span>)) &#123; bits += <span class="number">16</span>; x &gt;&gt;= <span class="number">16</span>; &#125;</span><br><span class="line">        <span class="comment">/* mask the 8 low order bits, add 8 and shift them out if they are all 0 */</span></span><br><span class="line">      	<span class="comment">// 00FF -- 0000_0000_1111_1111</span></span><br><span class="line">        <span class="keyword">if</span> (!(x &amp; <span class="number">0x000000FF</span>)) &#123; bits +=  <span class="number">8</span>; x &gt;&gt;=  <span class="number">8</span>; &#125;</span><br><span class="line">        <span class="comment">/* mask the 4 low order bits, add 4 and shift them out if they are all 0 */</span></span><br><span class="line">        <span class="comment">// 000F -- 0000_0000_0000_1111</span></span><br><span class="line">        <span class="keyword">if</span> (!(x &amp; <span class="number">0x0000000F</span>)) &#123; bits +=  <span class="number">4</span>; x &gt;&gt;=  <span class="number">4</span>; &#125;</span><br><span class="line">        <span class="comment">/* mask the 2 low order bits, add 2 and shift them out if they are all 0 */</span></span><br><span class="line">				<span class="comment">// 00FF -- 0000_0000_0000_0011</span></span><br><span class="line">        <span class="keyword">if</span> (!(x &amp; <span class="number">0x00000003</span>)) &#123; bits +=  <span class="number">2</span>; x &gt;&gt;=  <span class="number">2</span>; &#125;</span><br><span class="line">        <span class="comment">/* mask the low order bit and add 1 if it is 0 */</span></span><br><span class="line">        bits += (x &amp; <span class="number">1</span>) ^ <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bits;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的与操作可以更换为移位操作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!(x &amp; <span class="number">0x0000FFFF</span>))  ==  <span class="keyword">if</span> ( (x &gt;&gt; <span class="number">16</span>)==<span class="number">0</span> )</span><br></pre></td></tr></table></figure>



<h2 id="3-2-implement"><a href="#3-2-implement" class="headerlink" title="3.2 implement"></a>3.2 implement</h2><p>论文：<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8355536">A Design for High Speed Leading-Zero Counter</a></p>
<p>已经使用该方法实现了 8bit 位宽的 trailing zero counter;</p>
<h2 id="3-3-参考资料"><a href="#3-3-参考资料" class="headerlink" title="3.3 参考资料"></a>3.3 参考资料</h2><p>C语言算法链接：[Stack Overflow : count the zero trailing zero bits](<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/45221914/how-do-you-efficiently-count-the-trailing-zero-bits-in-a-number">c++ - How do you efficiently count the trailing zero bits in a number? - Stack Overflow</a>).</p>
<p> 算法书籍： 《Hacker’s Delight》</p>
<p>论文：<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8355536">A Design for High Speed Leading-Zero Counter</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://more_study@163.com">冰蒂斯</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://more_study@163.com/2024/03/09/macro-axlite-register/">http://more_study@163.com/2024/03/09/macro-axlite-register/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://more_study@163.com" target="_blank">冰蒂斯のformula</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/makima.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/03/09/axilite-mux/" title="axilite-mux"><img class="cover" src="/img/makima.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">axilite-mux</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">冰蒂斯</div><div class="author-info__description">螺旋上升的人生,也是多线程的人生</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/more_study@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-spill-register"><span class="toc-number">1.</span> <span class="toc-text">1. spill_register</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-implement"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 implement</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-spill-register-Vs-skidbffer"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 spill_register Vs skidbffer</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-rr-arb-tree"><span class="toc-number">2.</span> <span class="toc-text">2. rr_arb_tree</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-parameter"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 parameter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Input-output"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 Input &#x2F; output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-LockIn"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 LockIn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-Fair-Arbiter-%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E8%BD%AE%E8%AF%A2%E9%A1%BA%E5%BA%8F"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 Fair Arbiter   自动调整轮询顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-arbiter-tree-%E4%BB%B2%E8%A3%81%E6%A0%91%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.5.</span> <span class="toc-text">2.3 arbiter tree 仲裁树实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-lzc%EF%BC%9A-leading-trailing-zero-counter"><span class="toc-number">3.</span> <span class="toc-text">3. lzc：*leading&#x2F;trailing zero counter*</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Algorithm"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 Algorithm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-implement"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 implement</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 参考资料</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/09/macro-axlite-register/" title="macro-axlite-register"><img src="/img/makima.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="macro-axlite-register"/></a><div class="content"><a class="title" href="/2024/03/09/macro-axlite-register/" title="macro-axlite-register">macro-axlite-register</a><time datetime="2024-03-09T03:40:22.000Z" title="发表于 2024-03-09 11:40:22">2024-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/09/axilite-mux/" title="axilite-mux"><img src="/img/makima.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="axilite-mux"/></a><div class="content"><a class="title" href="/2024/03/09/axilite-mux/" title="axilite-mux">axilite-mux</a><time datetime="2024-03-09T03:30:56.000Z" title="发表于 2024-03-09 11:30:56">2024-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/26/cocotbaxi-01-try/" title="cocotbaxi-01-try"><img src="/img/makima.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cocotbaxi-01-try"/></a><div class="content"><a class="title" href="/2024/02/26/cocotbaxi-01-try/" title="cocotbaxi-01-try">cocotbaxi-01-try</a><time datetime="2024-02-26T13:55:25.000Z" title="发表于 2024-02-26 21:55:25">2024-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/11/AXI-Master-bursting/" title="difficult of AXI Master Bursting"><img src="/img/chainsaw_makima04.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="difficult of AXI Master Bursting"/></a><div class="content"><a class="title" href="/2024/01/11/AXI-Master-bursting/" title="difficult of AXI Master Bursting">difficult of AXI Master Bursting</a><time datetime="2024-01-11T08:52:33.000Z" title="发表于 2024-01-11 16:52:33">2024-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/10/Plan-XJY/" title="Plan_XJY"><img src="/img/chainsaw_power01.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Plan_XJY"/></a><div class="content"><a class="title" href="/2024/01/10/Plan-XJY/" title="Plan_XJY">Plan_XJY</a><time datetime="2024-01-10T07:46:33.000Z" title="发表于 2024-01-10 15:46:33">2024-01-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 冰蒂斯</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>